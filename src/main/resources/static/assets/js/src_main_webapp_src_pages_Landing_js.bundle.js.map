{"version":3,"file":"src_main_webapp_src_pages_Landing_js.bundle.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAmD;AAC2B;AAC5B;AACH;AACA;AAE/C,IAAMY,QAAQ,GAAGJ,mDAAG,CAAAK,eAAA,KAAAA,eAAA,GAAAC,sBAAA,oIAOnB;AAEc,SAASC,WAAWA,CAACC,KAAK,EAAE;EACzC,IAAAC,SAAA,GAAgCf,+CAAQ,CAAC,EAAE,CAAC;IAAAgB,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAArCG,QAAQ,GAAAF,UAAA;IAAEG,WAAW,GAAAH,UAAA;EAC5B,IAAAI,YAAA,GAA4Cb,2DAAW,CAACG,QAAQ,CAAC;IAAAW,aAAA,GAAAJ,cAAA,CAAAG,YAAA;IAA1DE,OAAO,GAAAD,aAAA;IAAAE,cAAA,GAAAF,aAAA;IAAIG,IAAI,GAAAD,cAAA,CAAJC,IAAI;IAAEC,OAAO,GAAAF,cAAA,CAAPE,OAAO;IAAEC,KAAK,GAAAH,cAAA,CAALG,KAAK;EACtC,IAAMC,QAAQ,GAAGlB,6DAAW,CAAC,CAAC;EAE9B,IAAMmB,YAAY,GAAG,SAAfA,YAAYA,CAAA,EAAS;IACzB,IAAI,CAAC,CAACV,QAAQ,EAAE;MACdI,OAAO,CAAC;QAAEO,SAAS,EAAE;UAAEX,QAAQ,EAARA;QAAS;MAAE,CAAC,CAAC;IACtC;EACF,CAAC;EAEDnB,gDAAS,CAAC,YAAM;IACd,IAAI,CAAC,CAACyB,IAAI,IAAI,CAAC,EAACA,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAEM,UAAU,GAAE;MAAA,IAAAC,gBAAA;MAChCC,YAAY,CAACC,OAAO,CAACzB,uDAAe,EAAEgB,IAAI,aAAJA,IAAI,gBAAAO,gBAAA,GAAJP,IAAI,CAAEM,UAAU,cAAAC,gBAAA,uBAAhBA,gBAAA,CAAkBb,QAAQ,CAAC;MACjES,QAAQ,CAAC,MAAM,CAAC;IAClB;EACF,CAAC,EAAE,CAACH,IAAI,CAAC,CAAC;EAEV,oBACE1B,0DAAA,CAACK,yDAAS;IAACgC,KAAK,EAAE;MAAEC,MAAM,EAAE,OAAO;MAAEC,UAAU,EAAE;IAAQ;EAAE,gBACzDvC,0DAAA,CAACG,yDAAM;IAACqC,QAAQ,EAAC;EAAK,GAAC,iBAAuB,CAAC,eAC/CxC,0DAAA,CAACI,yDAAO;IAACoC,QAAQ,EAAC;EAAQ,gBACxBxC,0DAAA,CAACM,yDAAI;IAACmC,QAAQ,EAAEX;EAAa,gBAC3B9B,0DAAA,CAACM,yDAAI,CAACoC,KAAK;IACTC,KAAK,EAAEvB,QAAS;IAChBwB,QAAQ,EAAE,SAAAA,SAAAC,IAAA;MAAA,IAAaF,KAAK,GAAAE,IAAA,CAAfC,MAAM,CAAIH,KAAK;MAAA,OAAStB,WAAW,CAACsB,KAAK,CAAC;IAAA,CAAC;IACxDf,KAAK,EAAE,CAAC,CAACA;EAAM,CAChB,CAAC,EACD,CAAC,CAACA,KAAK,iBACN5B,0DAAA,CAACO,yDAAO;IAACwC,QAAQ;EAAA,gBACf/C,0DAAA,CAACO,yDAAO,CAACJ,MAAM,QAAC,mCAAiD,CAAC,eAClEH,0DAAA,CAACO,yDAAO,CAACyC,IAAI,qBACXhD,0DAAA,CAACO,yDAAO,CAAC0C,IAAI,QAAC,6BAAyC,CAAC,eACxDjD,0DAAA,CAACO,yDAAO,CAAC0C,IAAI,QAAC,mCAA+C,CACjD,CACP,CACV,eACDjD,0DAAA,CAACM,yDAAI,CAAC4C,MAAM;IAACC,IAAI,EAAC;EAAQ,GAAC,QAAmB,CAC1C,CACC,CACA,CAAC;AAEhB","sources":["webpack://messaging/./src/main/webapp/src/pages/Landing.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Header, Segment, Container, Form, Message } from \"semantic-ui-react\";\r\nimport { gql, useMutation } from \"@apollo/client\";\r\nimport { localStorageKey } from \"../constants\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst ADD_USER = gql`\r\n  mutation createUser($username: String!) {\r\n    createUser(username: $username) {\r\n      id\r\n      username\r\n    }\r\n  }\r\n`;\r\n\r\nexport default function LandingPage(props) {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [addUser, { data, loading, error }] = useMutation(ADD_USER);\r\n  const navigate = useNavigate();\r\n\r\n  const handleSubmit = () => {\r\n    if (!!username) {\r\n      addUser({ variables: { username } });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!!data && !!data?.createUser) {\r\n      localStorage.setItem(localStorageKey, data?.createUser?.username);\r\n      navigate(\"/app\");\r\n    }\r\n  }, [data]);\r\n\r\n  return (\r\n    <Container style={{ height: \"100vh\", paddingTop: \"100px\" }}>\r\n      <Header attached=\"top\">Enter User Name</Header>\r\n      <Segment attached=\"bottom\">\r\n        <Form onSubmit={handleSubmit}>\r\n          <Form.Input\r\n            value={username}\r\n            onChange={({ target: { value } }) => setUsername(value)}\r\n            error={!!error}\r\n          />\r\n          {!!error && (\r\n            <Message negative>\r\n              <Message.Header>Error, Could you check something!</Message.Header>\r\n              <Message.List>\r\n                <Message.Item>Choose a different username</Message.Item>\r\n                <Message.Item>Users might reached exhaust limit</Message.Item>\r\n              </Message.List>\r\n            </Message>\r\n          )}\r\n          <Form.Button type=\"submit\">Submit</Form.Button>\r\n        </Form>\r\n      </Segment>\r\n    </Container>\r\n  );\r\n}\r\n"],"names":["React","useEffect","useState","Header","Segment","Container","Form","Message","gql","useMutation","localStorageKey","useNavigate","ADD_USER","_templateObject","_taggedTemplateLiteral","LandingPage","props","_useState","_useState2","_slicedToArray","username","setUsername","_useMutation","_useMutation2","addUser","_useMutation2$","data","loading","error","navigate","handleSubmit","variables","createUser","_data$createUser","localStorage","setItem","createElement","style","height","paddingTop","attached","onSubmit","Input","value","onChange","_ref","target","negative","List","Item","Button","type"],"sourceRoot":""}